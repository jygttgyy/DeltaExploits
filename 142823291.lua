local API = {}
API.User = game.Players.LocalPlayer
API.PlayerGui = API.User.PlayerGui
API.StarterGui = game:GetService("StarterGui")
API.UserInputService = game:GetService("UserInputService")
API.VirtualUser = game:GetService("VirtualUser")
API.VirtualInputManager = game:GetService("VirtualInputManager")
API.Hightlights = {}
API.CreateHighlight = function(Object, Color: Color3)
	local Highlight = Object:FindFirstChild("Highlight")
	if Highlight then
		Highlight.OutlineColor = Color
	else
		Highlight = Instance.new("Highlight")
		Highlight.Name = "Highlight"
		Highlight.Adornee = Object
		Highlight.Parent = nil
		table.insert(API.Highlights, {Object, Hightlight})
		Highlight.DepthMode = 0
		Highlight.Enabled = true
		Highlight.FillTransparency = 1
		Highlight.OutlineColor = Color
		Highlight.OutlineTransparency = 0.3
	end
	Highlight.OutlineColor = Color
	return Highlight
end
API.DeleteHighlight = function(Object, Bool)
	if Bool == true then
		for i, Table in pairs(API.Highlights) do
			Table[2]:Destroy()
			table.remove(API.Highlights, i)
		end
	else
		for i, Table in pairs(API.Highlights) do
			if table.find(Table, Object) then
				Table[2]:Destroy()
				table.remove(API.Highlights, i)
			end
		end
	end
end
local Sherrif = nil
local Murderer = nil
local Hero = nil
API.UserInputService.InputBegan:Connect(function(Input)
	if Input.KeyCode == Enum.KeyCode.Insert then
		if User == Sherrif or LocalPlayer == Hero then
			Murderer.Character.HumanoidRootPart.Anchored = true
			Murderer.Character.HumanoidRootPart.CanCollide = false
			Murderer.Character.HumanoidRootPart.Transparency = 0
			Murderer.Character.HumanoidRootPart.Position = game.Players.LocalPlayer.Character.HumanoidRootPart.Position
		elseif User == Murderer then
			for i, Player in ipairs(game.Players:GetPlayers()) do
				Player.Character.HumanoidRootPart.Anchored = true
				Player.Character.HumanoidRootPart.CanCollide = false
				Player.Character.HumanoidRootPart.Transparency = 0
				Player.Character.HumanoidRootPart.Position = game.Players.LocalPlayer.Character.HumanoidRootPart.Position
			end
		end
	end
end)
while true do
	for i, Player in ipairs(game.Players:GetPlayers()) do
		if Player.Backpack:FindFirstChild("Gun") and Player ~= API.User then
			if Sherrif == nil and Player ~= Sherrif then
				Sherrif = Player
				CMD.print("Sherrif: "..Player.Name, "@@BLUE@@")
				API.CreateHighlight(Player.Character, Color3.fromRGB(0, 0, 255))
			elseif Sherrif ~= nil and Player ~= Sherrif then
				Hero = Player
				CMD.print("Hero: "..Player.Name, "@@YELLOW@@")
				API.DeleteHighlight(Sherrif.Character)
				API.CreateHighlight(Player.Character, Color3.fromRGB(255, 255, 0))
			end
		elseif Player.Backpack:FindFirstChild("Knife") and Player ~= LocalPlayer then
			CMD.print("Murderer: "..Player.Name, "@@RED@@")
			API.CreateHighlight(Player.Character, Color3.fromRGB(255, 0, 0))
		end
	end
	task.wait(1)
	if Murderer == nil then
		API.DeleteHighlight(nil, true)
	end
end
